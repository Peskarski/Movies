(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{109:function(e,t,a){"use strict";a.r(t);var n,r,c=a(13),s=a.n(c),o=a(0),i=a(161),u=a(144),l=a(146),b=a(147),p=a(111),d=Object(i.a)(u.a)({width:"80%",margin:"auto",background:"rgb(45, 140, 181)"}),j=Object(i.a)(l.a)({fontSize:"20px",fontWeight:"bold",color:"black"}),O=Object(i.a)(p.a)({width:"40px",fontSize:"16px",fontWeight:"bold",color:"black",background:"rgb(45, 140, 181)"}),f=Object(i.a)(b.a)({display:"flex",justifyContent:"space-between"}),h=a(148),v=a(156),m=a(34),g=a(159),x=a(19),y=a(79),E=a(80),_=a(53);!function(e){e.En="en",e.Ru="ru"}(r||(r={}));var S=(n={},Object(x.a)(n,r.En,{translation:y}),Object(x.a)(n,r.Ru,{translation:E}),n);m.a.use(_.e).init({lng:r.En,resources:S});var w,R=a(16),P=a(8),T=["navBar.dashboard","navBar.movies","navBar.randomMovie"],D=function(){var e=Object(g.a)().t,t=Object(R.f)();return Object(P.jsxs)(f,{children:[Object(P.jsx)(d,{position:"static",children:Object(P.jsx)(v.a,{"aria-label":"simple tabs example",centered:!0,variant:"fullWidth",children:T.map((function(a){return Object(P.jsx)(j,{label:e(a),onClick:function(){return t.push("/".concat(e(a,{lng:"en"}),"/"))}},String(Math.random()))}))})}),Object(P.jsx)(h.a,{variant:"contained","aria-label":"contained primary button group",children:Object.values(r).map((function(e){return Object(P.jsx)(O,{onClick:function(){return m.a.changeLanguage(e)},children:e},String(Math.random()))}))})]})},k=Object(i.a)(p.a)({width:"140px",fontSize:"14px",color:"black",background:"rgb(45, 140, 181)",margin:"8px","&:hover":{background:"white"}}),A=Object(i.a)(b.a)({width:"40%"});!function(e){e.NOW_PLAYING_REQUEST_PATH="now_playing",e.UPCOMING_REQUEST_PATH="upcoming",e.POPULAR_REQUEST_PATH="popular"}(w||(w={}));var I,M=[{name:"dashboard.nowPlaying",redirectPath:w.NOW_PLAYING_REQUEST_PATH},{name:"dashboard.upcoming",redirectPath:w.UPCOMING_REQUEST_PATH},{name:"dashboard.popular",redirectPath:w.POPULAR_REQUEST_PATH}],U=function(){var e=Object(R.f)(),t=Object(g.a)().t;return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(A,{children:M.map((function(a){var n=a.name,r=a.redirectPath;return Object(P.jsx)(k,{onClick:function(){return e.push(r)},children:t(n)},n)}))})})},L=a(32),C="GET_MOVIES_SUCCESS",N="GET_MOVIES_ERROR",G="GET_MOVIES_REQUESTED",Q="SET_INITIAL_MOVIES_STATE",H="nowPlaying",W="upcoming",V="popular",B=a(17),q={movies:[],status:null,error:null},z={nowPlaying:q,upcoming:q,popular:q};!function(e){e.Requested="requested",e.Success="success",e.Error="error"}(I||(I={}));var F,J=a(20),Y=a.n(J),X=a(28),K=Y.a.mark(ee),Z=Y.a.mark(te),$=(F={},Object(x.a)(F,H,{success:function(e){return{type:C,name:H,payload:e}},error:function(e){return{type:N,name:H,payload:e}}}),Object(x.a)(F,V,{success:function(e){return{type:C,name:V,payload:e}},error:function(e){return{type:N,name:V,payload:e}}}),Object(x.a)(F,W,{success:function(e){return{type:C,name:W,payload:e}},error:function(e){return{type:N,name:W,payload:e}}}),F);function ee(e){var t,a,n,r;return Y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,a=e.name,c.prev=1,c.next=4,fetch(t);case 4:return n=c.sent,c.next=7,n.json();case 7:return r=c.sent,c.next=10,Object(X.b)($[a].success(r.results.slice(0,5)));case 10:c.next=15;break;case 12:c.prev=12,c.t0=c.catch(1),Object(X.b)($[a].error(c.t0));case 15:case"end":return c.stop()}}),K,null,[[1,12]])}function te(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.c)(G,ee);case 2:case"end":return e.stop()}}),Z)}var ae,ne=a(149),re=a(112),ce=(ae={},Object(x.a)(ae,w.NOW_PLAYING_REQUEST_PATH,{selector:function(e){return e.lists.nowPlaying.movies},action:function(e){return{type:G,name:H,payload:e}}}),Object(x.a)(ae,w.UPCOMING_REQUEST_PATH,{selector:function(e){return e.lists.upcoming.movies},action:function(e){return{type:G,name:W,payload:e}}}),Object(x.a)(ae,w.POPULAR_REQUEST_PATH,{selector:function(e){return e.lists.popular.movies},action:function(e){return{type:G,name:V,payload:e}}}),ae),se=function(){var e=Object(L.b)(),t=Object(R.g)().list,a=Object(L.c)(ce[t].selector),n=m.a.language,r=function(e,t){return"https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat("bb2b538ec7dc87a9a9ecaa9065c3baff","&language=").concat(e,"&page=1")}(n,t);return Object(o.useEffect)((function(){0===a.length&&e(ce[t].action(r))}),[t,e,a.length,r]),Object(o.useEffect)((function(){e({type:Q})}),[n,e]),Object(P.jsx)(ne.a,{children:a.map((function(e){var t=e.title,a=e.id;return Object(P.jsx)(re.a,{children:t},a)}))})},oe=a(54),ie=a(152),ue=a(158),le=a(153),be=a(157),pe=a(155),de=Object(i.a)(pe.a)({width:"140px",fontSize:"14px",color:"black",margin:"8px"}),je=Object(i.a)(b.a)({width:"75%",display:"flex",justifyContent:"space-around",marginTop:"8px"}),Oe="ADD_GENRES_SUCCESS",fe="ADD_GENRES_ERROR",he="ADD_GENRES_REQUESTED",ve="ADD_FILTERED_MOVIES_SUCCESS",me="ADD_FILTERED_MOVIES_ERROR",ge="ADD_FILTERED_MOVIES_REQUESTED",xe=function(e){return{type:Oe,payload:e}},ye={genres:{genresList:[],status:null,error:null},filteredMovies:{movies:[],status:null,error:null}},Ee=Y.a.mark(Re),_e=Y.a.mark(Pe),Se=Y.a.mark(Te),we=Y.a.mark(De);function Re(e){var t,a,n;return Y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,fetch(t);case 4:return a=r.sent,r.next=7,a.json();case 7:return n=r.sent,r.next=10,Object(X.b)(xe(n.genres));case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(1),Object(X.b)((c=r.t0,{type:fe,payload:c}));case 15:case"end":return r.stop()}var c}),Ee,null,[[1,12]])}function Pe(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.c)(he,Re);case 2:case"end":return e.stop()}}),_e)}function Te(e){var t,a,n;return Y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,fetch(t);case 4:return a=r.sent,r.next=7,a.json();case 7:return n=r.sent,r.next=10,Object(X.b)((s=n.results,{type:ve,payload:s}));case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(1),Object(X.b)((c=r.t0,{type:me,payload:c}));case 15:case"end":return r.stop()}var c,s}),Se,null,[[1,12]])}function De(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.c)(ge,Te);case 2:case"end":return e.stop()}}),we)}var ke=function(e){return e.movies.genres.genresList},Ae=function(e){return e.movies.filteredMovies.movies},Ie=function(){var e=function(e){return"https://api.themoviedb.org/3/genre/movie/list?api_key=".concat("bb2b538ec7dc87a9a9ecaa9065c3baff","&language=").concat(e)}(m.a.language),t=Object(L.b)(),a=Object(g.a)().t,n=Object(L.c)(ke),r=Object(o.useState)(""),c=Object(oe.a)(r,2),s=c[0],i=c[1],u=Object(o.useState)(""),l=Object(oe.a)(u,2),b=l[0],p=l[1],d=Object(o.useState)(""),j=Object(oe.a)(d,2),O=j[0],f=j[1],h=Object(o.useState)(!1),v=Object(oe.a)(h,2),x=v[0],y=v[1];return Object(o.useEffect)((function(){t({type:he,payload:e})}),[t,e]),Object(P.jsxs)("div",{children:[Object(P.jsxs)(je,{children:[Object(P.jsxs)(ie.a,{children:[Object(P.jsx)(ue.a,{id:"demo-simple-select-label",children:a("filters.genre")}),Object(P.jsx)(de,{labelId:"demo-simple-select-label",value:s,onChange:function(e){return function(e){var t=e.target;i(t.value),y(!1)}(e)},children:n.map((function(e){var t=e.name,a=e.id;return Object(P.jsx)(le.a,{value:a,children:t},a)}))})]}),Object(P.jsx)(be.a,{label:a("filters.startDate"),type:"date",InputLabelProps:{shrink:!0},onChange:function(e){p(e.target.value),y(!1)},value:b}),Object(P.jsx)(be.a,{label:a("filters.endDate"),type:"date",InputLabelProps:{shrink:!0},onChange:function(e){f(e.target.value),y(!1)},value:O}),Object(P.jsx)(k,{onClick:function(){return y(!0)},children:a("filters.apply")})]}),x&&Object(P.jsx)(Me,{genre:s,startDate:b,endDate:O})]})},Me=function(e){var t=e.genre,a=e.startDate,n=e.endDate,r=Object(L.b)(),c=Object(L.c)(Ae),s=function(e,t,a,n){return"https://api.themoviedb.org/3/discover/movie?api_key=".concat("bb2b538ec7dc87a9a9ecaa9065c3baff","&language=").concat(e,"&sort_by=popularity.desc&include_adult=false&include_video=false&with_genres=").concat(t,"&primary_release_date.gte=").concat(a,"&primary_release_date.lte=").concat(n,"&with_watch_monetization_types=flatrate")}(m.a.language,t,a,n);return Object(o.useEffect)((function(){r({type:ge,payload:s})}),[t,r,s]),Object(P.jsx)(ne.a,{children:c.map((function(e){var t=e.title,a=e.id;return Object(P.jsx)(re.a,{children:t},a)}))})},Ue=Object(i.a)(b.a)({background:"rgba(56, 50, 50, 0.6)",color:"black",fontWeight:"bold",textAlign:"center",width:"90%",height:"800px",fontFamily:"sans-serif",minWidth:"1000px"}),Le=a(59),Ce=function(){var e=Object(g.a)().t;return Object(P.jsx)(Le.a,{children:Object(P.jsxs)(Ue,{maxWidth:!1,children:[Object(P.jsx)("h1",{children:e("title")}),Object(P.jsx)(R.c,{children:Object(P.jsx)(R.a,{path:"/",component:D})}),Object(P.jsxs)(R.c,{children:[Object(P.jsx)(R.a,{path:"/dashboard",component:U}),Object(P.jsx)(R.a,{path:"/movies",component:Ie})]}),Object(P.jsx)(R.c,{children:Object(P.jsx)(R.a,{path:"/dashboard/:list",exact:!0,component:se})})]})})},Ne=a(42),Ge=a(84),Qe={initialListsState:z,initialMoviesState:ye},He=Object(Ne.b)({lists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(B.a)(Object(B.a)({},e),{},Object(x.a)({},t.name,{movies:[],status:I.Requested,error:null}));case C:return Object(B.a)(Object(B.a)({},e),{},Object(x.a)({},t.name,{movies:t.payload,status:I.Success,error:null}));case N:return Object(B.a)(Object(B.a)({},e),{},Object(x.a)({},t.name,{movies:[],status:I.Error,error:t.payload}));case Q:return Object(B.a)({},z);default:return Object(B.a)({},e)}},movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return Object(B.a)(Object(B.a)({},e),{},{genres:{genresList:[],status:"requested",error:null}});case Oe:return Object(B.a)(Object(B.a)({},e),{},{genres:{genresList:t.payload,status:"success",error:null}});case fe:return Object(B.a)(Object(B.a)({},e),{},{genres:{genresList:[],status:"error",error:t.payload}});case ge:return Object(B.a)(Object(B.a)({},e),{},{filteredMovies:{movies:[],status:"requested",error:null}});case ve:return Object(B.a)(Object(B.a)({},e),{},{filteredMovies:{movies:t.payload,status:"success",error:null}});case me:return Object(B.a)(Object(B.a)({},e),{},{filteredMovies:{movies:[],status:"error",error:t.payload}});default:return Object(B.a)({},e)}}}),We=Y.a.mark(Ve);function Ve(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.a)([te(),Pe(),De()]);case 2:case"end":return e.stop()}}),We)}var Be=Object(Ge.a)(),qe=Object(Ne.c)(Object(Ne.a)(Be),window.__REDUX_DEVTOOLS_EXTENSION__()),ze=Object(Ne.d)(He,Qe,qe);Be.run(Ve),s.a.render(Object(P.jsx)(L.a,{store:ze,children:Object(P.jsx)(Ce,{})}),document.getElementById("root"))},79:function(e){e.exports=JSON.parse('{"title":"Movies","navBar":{"dashboard":"Dashboard","movies":"Movies","randomMovie":"Random movie"},"dashboard":{"nowPlaying":"Now playing","upcoming":"Upcoming","popular":"Popular"},"filters":{"genre":"Genre","startDate":"Start Date","endDate":"End Date","apply":"Apply"}}')},80:function(e){e.exports=JSON.parse('{"title":"\u0424\u0438\u043b\u044c\u043c\u044b","navBar":{"dashboard":"\u0421\u043f\u0438\u0441\u043a\u0438","movies":"\u0424\u0438\u043b\u044c\u043c\u044b","randomMovie":"\u0421\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0439 \u0444\u0438\u043b\u044c\u043c"},"dashboard":{"nowPlaying":"\u0412 \u043f\u0440\u043e\u043a\u0430\u0442\u0435","upcoming":"\u041e\u0436\u0438\u0434\u0430\u0435\u043c\u044b\u0435","popular":"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435"},"filters":{"genre":"\u0416\u0430\u043d\u0440","startDate":"\u041e\u0442","endDate":"\u0414\u043e","apply":"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"}}')}},[[109,1,2]]]);
//# sourceMappingURL=main.2024a88d.chunk.js.map