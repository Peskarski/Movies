(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{111:function(e,t,a){"use strict";a.r(t);var n,r,c=a(13),o=a.n(c),s=a(0),i=a(162),u=a(148),l=a(150),b=a(151),p=a(113),d=Object(i.a)(u.a)({width:"80%",margin:"auto",background:"rgb(45, 140, 181)"}),j=Object(i.a)(l.a)({fontSize:"20px",fontWeight:"bold",color:"black"}),O=Object(i.a)(p.a)({width:"40px",fontSize:"16px",fontWeight:"bold",color:"black",background:"rgb(45, 140, 181)"}),f=Object(i.a)(b.a)({display:"flex",justifyContent:"space-between"}),h=a(152),g=a(160),v=a(35),m=a(166),x=a(20),E=a(80),y=a(81),_=a(57);!function(e){e.En="en",e.Ru="ru"}(r||(r={}));var S=(n={},Object(x.a)(n,r.En,{translation:E}),Object(x.a)(n,r.Ru,{translation:y}),n);v.a.use(_.e).init({lng:r.En,resources:S});var T,w=a(17),P=a(6),R=["navBar.dashboard","navBar.movies","navBar.randomMovie"],k=function(){var e=Object(m.a)().t,t=Object(w.f)();return Object(P.jsxs)(f,{children:[Object(P.jsx)(d,{position:"static",children:Object(P.jsx)(g.a,{"aria-label":"simple tabs example",centered:!0,variant:"fullWidth",children:R.map((function(a){return Object(P.jsx)(j,{label:e(a),onClick:function(){return t.push("/".concat(e(a,{lng:"en"}),"/"))}},String(Math.random()))}))})}),Object(P.jsx)(h.a,{variant:"contained","aria-label":"contained primary button group",children:Object.values(r).map((function(e){return Object(P.jsx)(O,{onClick:function(){return v.a.changeLanguage(e)},children:e},String(Math.random()))}))})]})},I=Object(i.a)(p.a)({width:"140px",fontSize:"14px",color:"black",background:"rgb(45, 140, 181)",margin:"8px","&:hover":{background:"white"}}),M=Object(i.a)(b.a)({width:"40%",display:"flex",flexWrap:"nowrap"});!function(e){e.NOW_PLAYING_REQUEST_PATH="now_playing",e.UPCOMING_REQUEST_PATH="upcoming",e.POPULAR_REQUEST_PATH="popular"}(T||(T={}));var U,A=[{name:"dashboard.nowPlaying",redirectPath:T.NOW_PLAYING_REQUEST_PATH},{name:"dashboard.upcoming",redirectPath:T.UPCOMING_REQUEST_PATH},{name:"dashboard.popular",redirectPath:T.POPULAR_REQUEST_PATH}],D=function(){var e=Object(w.f)(),t=Object(m.a)().t;return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(M,{children:A.map((function(a){var n=a.name,r=a.redirectPath;return Object(P.jsx)(I,{onClick:function(){return e.push(r)},children:t(n)},n)}))})})},G=a(29),L="GET_MOVIES_SUCCESS",C="GET_MOVIES_ERROR",N="GET_MOVIES_REQUESTED",Q="SET_INITIAL_MOVIES_STATE",W="nowPlaying",H="upcoming",V="popular",q=a(15),z={movies:[],status:null,error:null},B={nowPlaying:z,upcoming:z,popular:z};!function(e){e.Requested="requested",e.Success="success",e.Error="error"}(U||(U={}));var F,J=a(21),Y=a.n(J),X=a(27),K=Y.a.mark(ee),Z=Y.a.mark(te),$=(F={},Object(x.a)(F,W,{success:function(e){return{type:L,name:W,payload:e}},error:function(e){return{type:C,name:W,payload:e}}}),Object(x.a)(F,V,{success:function(e){return{type:L,name:V,payload:e}},error:function(e){return{type:C,name:V,payload:e}}}),Object(x.a)(F,H,{success:function(e){return{type:L,name:H,payload:e}},error:function(e){return{type:C,name:H,payload:e}}}),F);function ee(e){var t,a,n,r;return Y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,a=e.name,c.prev=1,c.next=4,fetch(t);case 4:return n=c.sent,c.next=7,n.json();case 7:return r=c.sent,c.next=10,Object(X.b)($[a].success(r.results.slice(0,5)));case 10:c.next=15;break;case 12:c.prev=12,c.t0=c.catch(1),Object(X.b)($[a].error(c.t0));case 15:case"end":return c.stop()}}),K,null,[[1,12]])}function te(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.c)(N,ee);case 2:case"end":return e.stop()}}),Z)}var ae,ne,re=a(153),ce=a(114),oe=(ae={},Object(x.a)(ae,T.NOW_PLAYING_REQUEST_PATH,{selector:function(e){return e.lists.nowPlaying.movies},action:function(e){return{type:N,name:W,payload:e}}}),Object(x.a)(ae,T.UPCOMING_REQUEST_PATH,{selector:function(e){return e.lists.upcoming.movies},action:function(e){return{type:N,name:H,payload:e}}}),Object(x.a)(ae,T.POPULAR_REQUEST_PATH,{selector:function(e){return e.lists.popular.movies},action:function(e){return{type:N,name:V,payload:e}}}),ae),se=function(){var e=Object(G.b)(),t=Object(w.g)().list,a=Object(G.c)(oe[t].selector),n=v.a.language,r=function(e,t){return"https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat("bb2b538ec7dc87a9a9ecaa9065c3baff","&language=").concat(e,"&page=1")}(n,t);return Object(s.useEffect)((function(){0===a.length&&e(oe[t].action(r))}),[t,e,a.length,r]),Object(s.useEffect)((function(){e({type:Q})}),[n,e]),Object(P.jsx)(re.a,{children:a.map((function(e){var t=e.title,a=e.id;return Object(P.jsx)(ce.a,{children:t},a)}))})},ie=a(47),ue=a(156),le=a(163),be=a(157),pe=a(165),de=a(159),je=Object(i.a)(de.a)({width:"140px",fontSize:"14px",color:"black",margin:"8px"}),Oe=Object(i.a)(b.a)({width:"75%",display:"flex",justifyContent:"space-around",marginTop:"8px"}),fe="GET_GENRES_SUCCESS",he="GET_GENRES_ERROR",ge="GET_GENRES_REQUESTED",ve="GET_FILTERED_MOVIES_SUCCESS",me="GET_FILTERED_MOVIES_ERROR",xe="GET_FILTERED_MOVIES_REQUESTED",Ee="GET_TOTAL_PAGES",ye=function(e){return{type:fe,payload:e}},_e=function(e){return{type:Ee,payload:e}},Se={genres:{genresList:[],status:null,error:null},filteredMovies:{movies:[],status:null,error:null,totalPages:0},totalPages:0};!function(e){e.Requested="requested",e.Success="success",e.Error="error"}(ne||(ne={}));var Te=Y.a.mark(ke),we=Y.a.mark(Ie),Pe=Y.a.mark(Me),Re=Y.a.mark(Ue);function ke(e){var t,a,n;return Y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,fetch(t);case 4:return a=r.sent,r.next=7,a.json();case 7:return n=r.sent,r.next=10,Object(X.b)(ye(n.genres));case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(1),Object(X.b)((c=r.t0,{type:he,payload:c}));case 15:case"end":return r.stop()}var c}),Te,null,[[1,12]])}function Ie(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.c)(ge,ke);case 2:case"end":return e.stop()}}),we)}function Me(e){var t,a,n;return Y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,fetch(t);case 4:return a=r.sent,r.next=7,a.json();case 7:return n=r.sent,r.next=10,Object(X.b)((o=n.results,{type:ve,payload:o}));case 10:return r.next=12,Object(X.b)(_e(n.total_pages));case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(1),Object(X.b)((c=r.t0,{type:me,payload:c}));case 17:case"end":return r.stop()}var c,o}),Pe,null,[[1,14]])}function Ue(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.c)(xe,Me);case 2:case"end":return e.stop()}}),Re)}var Ae=function(e){return e.movies.genres.genresList},De=function(e){return e.movies.filteredMovies.movies},Ge=function(e){return e.movies.totalPages},Le=function(){var e=function(e){return"https://api.themoviedb.org/3/genre/movie/list?api_key=".concat("bb2b538ec7dc87a9a9ecaa9065c3baff","&language=").concat(e)}(v.a.language),t=Object(G.b)(),a=Object(m.a)().t,n=Object(G.c)(Ae),r=Object(s.useState)(""),c=Object(ie.a)(r,2),o=c[0],i=c[1],u=Object(s.useState)(""),l=Object(ie.a)(u,2),b=l[0],p=l[1],d=Object(s.useState)(""),j=Object(ie.a)(d,2),O=j[0],f=j[1],h=Object(s.useState)(!1),g=Object(ie.a)(h,2),x=g[0],E=g[1];return Object(s.useEffect)((function(){t({type:ge,payload:e})}),[t,e]),Object(P.jsxs)("div",{children:[Object(P.jsxs)(Oe,{children:[Object(P.jsxs)(ue.a,{children:[Object(P.jsx)(le.a,{id:"demo-simple-select-label",children:a("filters.genre")}),Object(P.jsx)(je,{labelId:"demo-simple-select-label",value:o,onChange:function(e){return function(e){var t=e.target;i(t.value),E(!1)}(e)},children:n.map((function(e){var t=e.name,a=e.id;return Object(P.jsx)(be.a,{value:a,children:t},a)}))})]}),Object(P.jsx)(pe.a,{label:a("filters.startDate"),type:"date",InputLabelProps:{shrink:!0},onChange:function(e){p(e.target.value),E(!1)},value:b}),Object(P.jsx)(pe.a,{label:a("filters.endDate"),type:"date",InputLabelProps:{shrink:!0},onChange:function(e){f(e.target.value),E(!1)},value:O}),Object(P.jsx)(I,{onClick:function(){return E(!0)},children:a("filters.apply")})]}),x&&Object(P.jsx)(Ne,{genre:o,startDate:b,endDate:O})]})},Ce=Object(i.a)(b.a)({display:"flex",justifyContent:"space-around",marginTop:"8px"}),Ne=function(e){var t=e.genre,a=e.startDate,n=e.endDate,r=Object(s.useState)(1),c=Object(ie.a)(r,2),o=c[0],i=c[1],u=Object(G.b)(),l=Object(G.c)(De),b=function(e,t,a,n,r){return"https://api.themoviedb.org/3/discover/movie?api_key=".concat("bb2b538ec7dc87a9a9ecaa9065c3baff","&language=").concat(e,"&sort_by=popularity.desc&include_adult=false&include_video=false&with_genres=").concat(t,"&primary_release_date.gte=").concat(a,"&primary_release_date.lte=").concat(n,"&page=").concat(r,"&with_watch_monetization_types=flatrate")}(v.a.language,t,a,n,o);return Object(s.useEffect)((function(){u({type:xe,payload:b})}),[t,u,b]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Ce,{children:Object(P.jsx)(He,{changePage:function(e){i(e)}})}),Object(P.jsx)(re.a,{children:l.map((function(e){var t=e.title,a=e.id;return Object(P.jsx)(ce.a,{children:t},a)}))})]})},Qe=a(161),We=Object(i.a)(Qe.a)({"& button":{background:"rgb(45, 140, 181)","&:hover":{background:"white"}},"& .Mui-selected":{border:"2px solid black",fontWeight:"bold",background:"rgb(45, 140, 181)"}}),He=function(e){var t=e.changePage,a=Object(G.c)(Ge);return Object(P.jsx)(We,{count:a,size:"large",shape:"rounded",onChange:function(e,a){return t(a)}})},Ve=Object(i.a)(b.a)({background:"rgba(56, 50, 50, 0.6)",color:"black",fontWeight:"bold",textAlign:"center",width:"90%",height:"800px",fontFamily:"sans-serif",minWidth:"1000px"}),qe=a(62),ze=function(){var e=Object(m.a)().t;return Object(P.jsx)(qe.a,{children:Object(P.jsxs)(Ve,{maxWidth:!1,children:[Object(P.jsx)("h1",{children:e("title")}),Object(P.jsx)(w.c,{children:Object(P.jsx)(w.a,{path:"/",component:k})}),Object(P.jsxs)(w.c,{children:[Object(P.jsx)(w.a,{path:"/dashboard",component:D}),Object(P.jsx)(w.a,{path:"/movies",component:Le})]}),Object(P.jsx)(w.c,{children:Object(P.jsx)(w.a,{path:"/dashboard/:list",exact:!0,component:se})})]})})},Be=a(43),Fe=a(86),Je={initialListsState:B,initialMoviesState:Se},Ye=Object(Be.b)({lists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(q.a)(Object(q.a)({},e),{},Object(x.a)({},t.name,{movies:[],status:U.Requested,error:null}));case L:return Object(q.a)(Object(q.a)({},e),{},Object(x.a)({},t.name,{movies:t.payload,status:U.Success,error:null}));case C:return Object(q.a)(Object(q.a)({},e),{},Object(x.a)({},t.name,{movies:[],status:U.Error,error:t.payload}));case Q:return Object(q.a)({},B);default:return Object(q.a)({},e)}},movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:return Object(q.a)(Object(q.a)({},e),{},{genres:{genresList:[],status:ne.Requested,error:null}});case fe:return Object(q.a)(Object(q.a)({},e),{},{genres:{genresList:t.payload,status:ne.Success,error:null}});case he:return Object(q.a)(Object(q.a)({},e),{},{genres:{genresList:[],status:ne.Error,error:t.payload}});case xe:return Object(q.a)(Object(q.a)({},e),{},{filteredMovies:{movies:[],status:ne.Requested,error:null}});case ve:return Object(q.a)(Object(q.a)({},e),{},{filteredMovies:{movies:t.payload,status:ne.Success,error:null}});case me:return Object(q.a)(Object(q.a)({},e),{},{filteredMovies:{movies:[],status:ne.Error,error:t.payload}});case Ee:return Object(q.a)(Object(q.a)({},e),{},{totalPages:t.payload});default:return Object(q.a)({},e)}}}),Xe=Y.a.mark(Ke);function Ke(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.a)([te(),Ie(),Ue()]);case 2:case"end":return e.stop()}}),Xe)}var Ze=Object(Fe.a)(),$e=Object(Be.c)(Object(Be.a)(Ze),window.__REDUX_DEVTOOLS_EXTENSION__()),et=Object(Be.d)(Ye,Je,$e);Ze.run(Ke),o.a.render(Object(P.jsx)(G.a,{store:et,children:Object(P.jsx)(ze,{})}),document.getElementById("root"))},80:function(e){e.exports=JSON.parse('{"title":"Movies","navBar":{"dashboard":"Dashboard","movies":"Movies","randomMovie":"Random movie"},"dashboard":{"nowPlaying":"Now playing","upcoming":"Upcoming","popular":"Popular"},"filters":{"genre":"Genre","startDate":"Start Date","endDate":"End Date","apply":"Apply"}}')},81:function(e){e.exports=JSON.parse('{"title":"\u0424\u0438\u043b\u044c\u043c\u044b","navBar":{"dashboard":"\u0421\u043f\u0438\u0441\u043a\u0438","movies":"\u0424\u0438\u043b\u044c\u043c\u044b","randomMovie":"\u0421\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0439 \u0444\u0438\u043b\u044c\u043c"},"dashboard":{"nowPlaying":"\u0412 \u043f\u0440\u043e\u043a\u0430\u0442\u0435","upcoming":"\u041e\u0436\u0438\u0434\u0430\u0435\u043c\u044b\u0435","popular":"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435"},"filters":{"genre":"\u0416\u0430\u043d\u0440","startDate":"\u041e\u0442","endDate":"\u0414\u043e","apply":"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"}}')}},[[111,1,2]]]);
//# sourceMappingURL=main.3d3b7b0f.chunk.js.map