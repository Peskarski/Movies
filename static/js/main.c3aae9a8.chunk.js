(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{109:function(e,t,a){"use strict";a.r(t);var n,r,c=a(13),s=a.n(c),o=a(0),i=a(160),u=a(144),l=a(146),b=a(147),p=a(111),d=Object(i.a)(u.a)({width:"80%",margin:"auto",background:"rgb(45, 140, 181)"}),j=Object(i.a)(l.a)({fontSize:"20px",fontWeight:"bold",color:"black"}),O=Object(i.a)(p.a)({width:"40px",fontSize:"16px",fontWeight:"bold",color:"black",background:"rgb(45, 140, 181)"}),f=Object(i.a)(b.a)({display:"flex",justifyContent:"space-between"}),h=a(148),m=a(156),v=a(34),g=a(157),x=a(19),y=a(79),E=a(80),S=a(53);!function(e){e.En="en",e.Ru="ru"}(r||(r={}));var _=(n={},Object(x.a)(n,r.En,{translation:y}),Object(x.a)(n,r.Ru,{translation:E}),n);v.a.use(S.e).init({lng:r.En,resources:_});var w,D=a(16),k=a(8),M=["navBar.dashboard","navBar.movies","navBar.randomMovie"],R=function(){var e=Object(g.a)().t,t=Object(D.f)();return Object(k.jsxs)(f,{children:[Object(k.jsx)(d,{position:"static",children:Object(k.jsx)(m.a,{"aria-label":"simple tabs example",centered:!0,variant:"fullWidth",children:M.map((function(a){return Object(k.jsx)(j,{label:e(a),onClick:function(){return t.push("/".concat(e(a,{lng:"en"}),"/"))}},String(Math.random()))}))})}),Object(k.jsx)(h.a,{variant:"contained","aria-label":"contained primary button group",children:Object.values(r).map((function(e){return Object(k.jsx)(O,{onClick:function(){return v.a.changeLanguage(e)},children:e},String(Math.random()))}))})]})},I=Object(i.a)(p.a)({width:"140px",fontSize:"14px",color:"black",background:"rgb(45, 140, 181)",margin:"8px","&:hover":{background:"white"}}),L=Object(i.a)(b.a)({width:"40%"}),A="bb2b538ec7dc87a9a9ecaa9065c3baff",C="now_playing",T="upcoming",W="popular",N=[{name:"dashboard.nowPlaying",requestWord:C},{name:"dashboard.upcoming",requestWord:T},{name:"dashboard.popular",requestWord:W}],P=function(){var e=Object(D.f)(),t=Object(g.a)().t;return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(L,{children:N.map((function(a){var n=a.name,r=a.requestWord;return Object(k.jsx)(I,{onClick:function(){return e.push(r)},children:t(n)},String(Math.random()))}))})})},U=a(32),V="ADD_MOVIES_SUCCESS",q="ADD_MOVIES_ERROR",B="ADD_MOVIES_REQUESTED",z="SET_INITIAL_MOVIES_STATE",F="nowPlaying",G="upcoming",J="popular",Q=a(17),X={movies:[],status:null,error:null},H={nowPlaying:X,upcoming:X,popular:X},K=a(20),Y=a.n(K),Z=a(28),$=Y.a.mark(ae),ee=Y.a.mark(ne),te=(w={},Object(x.a)(w,F,{success:function(e){return{type:V,name:F,payload:e}},error:function(e){return{type:q,name:F,payload:e}}}),Object(x.a)(w,J,{success:function(e){return{type:V,name:J,payload:e}},error:function(e){return{type:q,name:J,payload:e}}}),Object(x.a)(w,G,{success:function(e){return{type:V,name:G,payload:e}},error:function(e){return{type:q,name:G,payload:e}}}),w);function ae(e){var t,a,n,r;return Y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,a=e.name,c.prev=1,c.next=4,fetch(t);case 4:return n=c.sent,c.next=7,n.json();case 7:return r=c.sent,c.next=10,Object(Z.b)(te[a].success(r.results.slice(0,5)));case 10:c.next=15;break;case 12:c.prev=12,c.t0=c.catch(1),Object(Z.b)(te[a].error(c.t0));case 15:case"end":return c.stop()}}),$,null,[[1,12]])}function ne(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.c)(B,ae);case 2:case"end":return e.stop()}}),ee)}var re,ce=a(149),se=a(112),oe=(re={},Object(x.a)(re,C,{selector:function(e){return e.lists.nowPlaying.movies},action:function(e){return{type:B,name:F,payload:e}}}),Object(x.a)(re,T,{selector:function(e){return e.lists.upcoming.movies},action:function(e){return{type:B,name:G,payload:e}}}),Object(x.a)(re,W,{selector:function(e){return e.lists.popular.movies},action:function(e){return{type:B,name:J,payload:e}}}),re),ie=function(){var e=Object(U.b)(),t=Object(D.g)().list,a=Object(U.c)(oe[t].selector),n=v.a.language,r=function(e,t){return"https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(A,"&language=").concat(e,"&page=1")}(n,t);return Object(o.useEffect)((function(){0===a.length&&e(oe[t].action(r))}),[t]),Object(o.useEffect)((function(){e({type:z}),e(oe[t].action(r))}),[n]),Object(k.jsx)(ce.a,{children:a.map((function(e){var t=e.title;return Object(k.jsx)(se.a,{children:t},String(Math.random()))}))})},ue=a(68),le=a(152),be=a(158),pe=a(153),de=a(161),je=a(155),Oe=Object(i.a)(je.a)({width:"140px",fontSize:"14px",color:"black",margin:"8px"}),fe=Object(i.a)(b.a)({width:"75%",display:"flex",justifyContent:"space-around",marginTop:"8px"}),he="ADD_GENRES_SUCCESS",me="ADD_GENRES_ERROR",ve="ADD_GENRES_REQUESTED",ge="ADD_FILTERED_MOVIES_SUCCESS",xe="ADD_FILTERED_MOVIES_ERROR",ye="ADD_FILTERED_MOVIES_REQUESTED",Ee=function(e){return{type:he,payload:e}},Se={genres:{genresList:[],status:null,error:null},filteredMovies:{movies:[],status:null,error:null}},_e=Y.a.mark(Me),we=Y.a.mark(Re),De=Y.a.mark(Ie),ke=Y.a.mark(Le);function Me(e){var t,a,n;return Y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,fetch(t);case 4:return a=r.sent,r.next=7,a.json();case 7:return n=r.sent,r.next=10,Object(Z.b)(Ee(n.genres));case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(1),Object(Z.b)((c=r.t0,{type:me,payload:c}));case 15:case"end":return r.stop()}var c}),_e,null,[[1,12]])}function Re(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.c)(ve,Me);case 2:case"end":return e.stop()}}),we)}function Ie(e){var t,a,n;return Y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,fetch(t);case 4:return a=r.sent,r.next=7,a.json();case 7:return n=r.sent,r.next=10,Object(Z.b)((s=n.results,{type:ge,payload:s}));case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(1),Object(Z.b)((c=r.t0,{type:xe,payload:c}));case 15:case"end":return r.stop()}var c,s}),De,null,[[1,12]])}function Le(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.c)(ye,Ie);case 2:case"end":return e.stop()}}),ke)}var Ae=function(e){return e.movies.genres.genresList},Ce=function(e){return e.movies.filteredMovies.movies},Te=function(e){var t=e.genre,a=Object(U.b)(),n=Object(U.c)(Ce),r=function(e,t){return"https://api.themoviedb.org/3/discover/movie?api_key=".concat(A,"&language=").concat(e,"&sort_by=popularity.desc&include_adult=false&include_video=false&with_genres=").concat(t,"&with_watch_monetization_types=flatrate")}(v.a.language,t);return Object(o.useEffect)((function(){a({type:ye,payload:r})}),[t]),Object(k.jsx)(ce.a,{children:n.map((function(e){var t=e.title,a=e.id;return Object(k.jsx)(se.a,{children:t},a)}))})},We=function(){var e=v.a.language,t=function(e){return"https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(A,"&language=").concat(e)}(e),a=Object(U.b)(),n=Object(g.a)().t,r=Object(U.c)(Ae),c=Object(o.useState)(""),s=Object(ue.a)(c,2),i=s[0],u=s[1],l=Object(o.useState)(!1),b=Object(ue.a)(l,2),p=b[0],d=b[1];return Object(o.useEffect)((function(){a({type:ve,payload:t})}),[e]),Object(k.jsxs)("div",{children:[Object(k.jsxs)(fe,{children:[Object(k.jsxs)(le.a,{children:[Object(k.jsx)(be.a,{id:"demo-simple-select-label",children:n("filters.genre")}),Object(k.jsx)(Oe,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:i,onChange:function(e){return function(e){var t=e.target;u(t.value),d(!1)}(e)},children:r.map((function(e){var t=e.name,a=e.id;return Object(k.jsx)(pe.a,{value:a,children:t},a)}))})]}),Object(k.jsx)(de.a,{id:"date",label:n("filters.startDate"),type:"date",InputLabelProps:{shrink:!0}}),Object(k.jsx)(de.a,{id:"date",label:n("filters.endDate"),type:"date",InputLabelProps:{shrink:!0}}),Object(k.jsx)(I,{onClick:function(){return d(!0)},children:n("filters.apply")})]}),p&&Object(k.jsx)(Te,{genre:i})]})},Ne=Object(i.a)(b.a)({background:"rgba(56, 50, 50, 0.6)",color:"black",fontWeight:"bold",textAlign:"center",width:"90%",height:"800px",fontFamily:"sans-serif",minWidth:"1000px"}),Pe=a(58),Ue=function(){var e=Object(g.a)().t;return Object(k.jsx)(Pe.a,{children:Object(k.jsxs)(Ne,{maxWidth:!1,children:[Object(k.jsx)("h1",{children:e("title")}),Object(k.jsx)(R,{}),Object(k.jsxs)(D.c,{children:[Object(k.jsx)(D.a,{path:"/dashboard",component:P}),Object(k.jsx)(D.a,{path:"/movies",component:We})]}),Object(k.jsx)(D.c,{children:Object(k.jsx)(D.a,{path:"/dashboard/:list",exact:!0,component:ie})})]})})},Ve=a(42),qe=a(84),Be={initialListsState:H,initialMoviesState:Se},ze=Object(Ve.b)({lists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(Q.a)(Object(Q.a)({},e),{},Object(x.a)({},t.name,{movies:[],status:"requested",error:null}));case V:return Object(Q.a)(Object(Q.a)({},e),{},Object(x.a)({},t.name,{movies:t.payload,status:"success",error:null}));case q:return Object(Q.a)(Object(Q.a)({},e),{},Object(x.a)({},t.name,{movies:[],status:"error",error:t.payload}));case z:return Object(Q.a)({},H);default:return Object(Q.a)({},e)}},movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:return Object(Q.a)(Object(Q.a)({},e),{},{genres:{genresList:[],status:"requested",error:null}});case he:return Object(Q.a)(Object(Q.a)({},e),{},{genres:{genresList:t.payload,status:"success",error:null}});case me:return Object(Q.a)(Object(Q.a)({},e),{},{genres:{genresList:[],status:"error",error:t.payload}});case ye:return Object(Q.a)(Object(Q.a)({},e),{},{filteredMovies:{movies:[],status:"requested",error:null}});case ge:return Object(Q.a)(Object(Q.a)({},e),{},{filteredMovies:{movies:t.payload,status:"success",error:null}});case xe:return Object(Q.a)(Object(Q.a)({},e),{},{filteredMovies:{movies:[],status:"error",error:t.payload}});default:return Object(Q.a)({},e)}}}),Fe=Y.a.mark(Ge);function Ge(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.a)([ne(),Re(),Le()]);case 2:case"end":return e.stop()}}),Fe)}var Je=Object(qe.a)(),Qe=Object(Ve.c)(Object(Ve.a)(Je),window.__REDUX_DEVTOOLS_EXTENSION__()),Xe=Object(Ve.d)(ze,Be,Qe);Je.run(Ge),s.a.render(Object(k.jsx)(U.a,{store:Xe,children:Object(k.jsx)(Ue,{})}),document.getElementById("root"))},79:function(e){e.exports=JSON.parse('{"title":"Movies","navBar":{"dashboard":"Dashboard","movies":"Movies","randomMovie":"Random movie"},"dashboard":{"nowPlaying":"Now playing","upcoming":"Upcoming","popular":"Popular"},"filters":{"genre":"Genre","startDate":"Start Date","endDate":"End Date","apply":"Apply"}}')},80:function(e){e.exports=JSON.parse('{"title":"\u0424\u0438\u043b\u044c\u043c\u044b","navBar":{"dashboard":"\u0421\u043f\u0438\u0441\u043a\u0438","movies":"\u0424\u0438\u043b\u044c\u043c\u044b","randomMovie":"\u0421\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0439 \u0444\u0438\u043b\u044c\u043c"},"dashboard":{"nowPlaying":"\u0412 \u043f\u0440\u043e\u043a\u0430\u0442\u0435","upcoming":"\u041e\u0436\u0438\u0434\u0430\u0435\u043c\u044b\u0435","popular":"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435"},"filters":{"genre":"\u0416\u0430\u043d\u0440","startDate":"\u041e\u0442","endDate":"\u0414\u043e","apply":"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"}}')}},[[109,1,2]]]);
//# sourceMappingURL=main.c3aae9a8.chunk.js.map